### ============================================
### PRUEBAS DEL ENDPOINT WHATSAPP QUOTE
### ============================================
### Usar con extensión REST Client de VS Code
### o copiar los ejemplos a Postman/Insomnia

### Variables
@baseUrl = http://localhost:9200
@token = whatsapp_secret_token_2024

### ============================================
### 1. CLIENTE EXISTENTE - ACTUALIZAR COTIZACIÓN
### ============================================
POST {{baseUrl}}/whatsapp/quote
Content-Type: application/json
whatsapp-token: {{token}}

{
  "peso": 1500,
  "volumen": 25.5,
  "monto": 50000,
  "tipo_producto": "Textiles y confecciones",
  "nombre": "Juan",
  "apellidos": "Pérez García",
  "ha_importado_antes": true,
  "id_branch": 1
}

### ============================================
### 2. CLIENTE NUEVO - CREAR COTIZACIÓN
### ============================================
POST {{baseUrl}}/whatsapp/quote
Content-Type: application/json
whatsapp-token: {{token}}

{
  "peso": 2000,
  "volumen": 30,
  "monto": 75000,
  "tipo_producto": "Maquinaria industrial",
  "nombre": "María",
  "apellidos": "González López",
  "ha_importado_antes": false
}

### ============================================
### 3. ERROR - SIN TOKEN
### ============================================
POST {{baseUrl}}/whatsapp/quote
Content-Type: application/json

{
  "peso": 1500,
  "volumen": 25.5,
  "monto": 50000,
  "tipo_producto": "Textiles",
  "nombre": "Juan",
  "apellidos": "Pérez",
  "ha_importado_antes": true
}

### ============================================
### 4. ERROR - TOKEN INVÁLIDO
### ============================================
POST {{baseUrl}}/whatsapp/quote
Content-Type: application/json
whatsapp-token: token_invalido

{
  "peso": 1500,
  "volumen": 25.5,
  "monto": 50000,
  "tipo_producto": "Textiles",
  "nombre": "Juan",
  "apellidos": "Pérez",
  "ha_importado_antes": true
}

### ============================================
### 5. ERROR - DATOS FALTANTES
### ============================================
POST {{baseUrl}}/whatsapp/quote
Content-Type: application/json
whatsapp-token: {{token}}

{
  "peso": 1500,
  "nombre": "Juan",
  "apellidos": "Pérez",
  "ha_importado_antes": true
}

### ============================================
### 6. CLIENTE EXISTENTE SIN ID_BRANCH
### ============================================
POST {{baseUrl}}/whatsapp/quote
Content-Type: application/json
whatsapp-token: {{token}}

{
  "peso": 1800,
  "volumen": 28,
  "monto": 60000,
  "tipo_producto": "Electrónicos",
  "nombre": "Carlos",
  "apellidos": "Rodríguez Sánchez",
  "ha_importado_antes": true
}

### ============================================
### 7. COTIZACIÓN CON VALORES DECIMALES
### ============================================
POST {{baseUrl}}/whatsapp/quote
Content-Type: application/json
whatsapp-token: {{token}}

{
  "peso": 1234.56,
  "volumen": 45.789,
  "monto": 123456.78,
  "tipo_producto": "Productos químicos",
  "nombre": "Ana",
  "apellidos": "Martínez Torres",
  "ha_importado_antes": false
}
