<!DOCTYPE html>
<html lang="en">
  <style>
    table,
    th,
    td {
      padding: 4px;
      border: 1px solid black;
      border-collapse: collapse;
    }
  </style>
  <body style="padding: 0cm 1cm 1cm 1cm" cellspan="0">
    <h1 style="text-align: center; font-size: 10pt">
      CUENTAS POR COBRAR DETALLADO
    </h1>

    <p style="font-size: 8pt">Rango de Fecha: <%= dateRange %></p>

    <table style="font-size: 5pt" width="100%" border="1">
      <tr>
        <th rowspan="2">Proveedor</th>

        <th style="background: #c3fbef" colspan="1">LLEGADA</th>
        <th style="background: #e9e9e9" colspan="1">NO LLEGADA</th>
        <th style="background: #e9e9e9" colspan="3">GENERAL</th>
      </tr>
      <tr>
        <th style="background: #c3fbef" width="12%">Total a Cobrar</th>

        <th style="background: #fbc3c3" width="12%">Total a Cobrar</th>

        <th style="background: #e9e9e9" width="12%">Total a Cobrar</th>
        <th style="background: #e9e9e9" width="12%">Total Pagado</th>
        <th style="background: #e9e9e9" width="12%">Total Restante</th>
      </tr>

      <% if (itemsCpp.length > 0) { %> <% itemsCpp.forEach(item => {%>
      <tr>
        <td style="background: #e9e9e9"><b><%= item.nameConsigner %></b></td>

        <td style="background: #c3fbef">
          <b><%= item.total_pagar_llegada %> USD</b>
        </td>

        <td style="background: #fbc3c3">
          <b><%= item.total_pagar_no_llegada %> USD</b>
        </td>

        <td style="background: #e9e9e9"><b><%= item.total_pagar %> USD</b></td>
        <td style="background: #e9e9e9">
          <b><%= item.total_abonado %> USD</b>
        </td>
        <td style="background: #e9e9e9">
          <b><%= item.restante_pagar %> USD</b>
        </td>
      </tr>
      <tr>
        <td>EXPEDIENTE</td>
        <td colspan="1">CLIENTE</td>
        <td colspan="1">FECHA DE DISPONIBILIDAD</td>
        <td colspan="1">TOTAL A PAGAR</td>

        <td colspan="1">STATUS</td>
        <td colspan="1">PAGO CLIENTE</td>
      </tr>
      <% if (item.details.length > 0) { %> <% item.details.forEach(child => {%>

      <tr>
        <td><b><%= child.nro_master%></b></td>
        <td colspan="1"><b><%= child.nameConsigner%></b></td>
        <td colspan="1">
          <b><%= child.fecha_disponibilidad%></b>
        </td>
        <td colspan="1"><b><%= child.total_pagar%></b></td>

        <% if (child.llegada == 1) { %>
        <td colspan="1"><b>LLEGADA</b></td>
        <% } %> <% if (child.llegada == 0) { %>
        <td colspan="1"><b>NO LLEGADA</b></td>
        <% } %> <% if (child.llegada == 1) { %>
        <td colspan="1"><b>SI</b></td>
        <% } %> <% if (child.llegada == 0) { %>
        <td colspan="1"><b>NO</b></td>
        <% } %>
      </tr>
      <% });%> <% }%> <% });%> <% }%>
      <tr style="font-size: 7pt; font-weight: bold">
        <td>TOTALES</td>

        <td style="background: #c3fbef"><%= total_pagar_llegada %> USD</td>

        <td style="background: #fbc3c3"><%= total_pagar_no_llegada %> USD</td>

        <td style="background: #e9e9e9"><%= total_pagar %> USD</td>
        <td style="background: #e9e9e9"><%= total_pagado %> USD</td>
        <td style="background: #e9e9e9"><%= total_restante %> USD</td>
      </tr>
    </table>
  </body>
</html>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap");
  * {
    font-family: "Roboto", sans-serif;
  }
</style>
